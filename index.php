<?php

   // Include the Smarty Templating Engine
   define('SMARTY_DIR', __DIR__ . '/Smarty-3.1.14/libs/');
   require_once(SMARTY_DIR . 'Smarty.class.php');
   $smarty = new Smarty();

   $smarty->setTemplateDir(__DIR__ . '/templates/templates/');
   $smarty->setCompileDir(__DIR__ . '/templates/templates_c/');
   $smarty->setConfigDir(__DIR__ . '/templates/configs/');
   $smarty->setCacheDir(__DIR__ . '/templates/cache/');



   // Setup the Routing Framework
   require_once __DIR__ . '/vendor/autoload.php';
   $klein = new \Klein\Klein();


   /* Define routes here */

   $klein->respond('GET', '/', function ($request, $response, $service) use ($smarty) {
	 $smarty->assign('page', 'home');
	 $smarty->assign('title', "Kyle Mattimore");
	 
     $smarty->display('index.tpl');
   });
   
   $klein->respond('GET', '/projects/?', function ($request, $response, $service) use ($smarty) {
	 $smarty->assign('page', 'projects');
	 $smarty->assign('title', "Kyle Mattimore | Projects");
	 
     $smarty->display('projects.tpl');
   });
   
   $klein->respond('GET', '/contact/?', function ($request, $response, $service) use ($smarty) {
	 $smarty->assign('page', 'contact');
	 $smarty->assign('title', "Kyle Mattimore | Contact");
	 
     $smarty->display('contact.tpl');
   });
   
   $klein->respond('GET', '/contact/info', function ($request) {
   
		$payload= "078011011025084016051018006016086080024007003024081097121127095010082007016010018078125030020010007006000088004013031058030020023031027002013029017051056030020010007092012013002086083043018007004014006082064048022031062029030065085025022014010025018043007028014004000010034008025018054031091000004031083077014074121099017007093087016029092101001030054016029077014022026066026026026046029020014014072079094014084027045022019094073026027022031007073112092024000004031002023001029007038093000014002017007076010016006112080005017004020006014010078024050018001023002031000064079000018045020016023086080048000003021029052081075008006019027022006025028099092020093075120083000029074079061001075105044029000005003017083009028028000014072079074088071071118094076086093095095086090066121099017007093087016029092101038022044006024006081082101094014084027045022019094073026027022031007073112092002020028092011016000004017048011091000004031064017064027066046064020025012006086083004017018062070090040018030010071093068062062007001010006029029007074070067013022006022006023074080095069065114065069082095092031006009075023051078068065085082083011079023031062000006094073020014066009021094057026025006070002011004066027083057018088015012082077092083091026097083005007013082083077014074083085085027001024002084104083021083055001016005086080007022027004000101092090020028005065006029027003061028013077008029002077028091069103066025002018027013013022076004051002018076032011003007074070067018018001023002031000016010081065111033016016030031010071093068066109094071083090070065006000023011096023025094090080081066083029083060031020016024079077004014084021062094019010007023066021000006023114028085005010095003005079086077099092028093075022000001023084079112018075105087016029092083022001097121127095068005010014003074";
		return $payload;
			
   });
   
   

 
   $klein->dispatch();

?>
